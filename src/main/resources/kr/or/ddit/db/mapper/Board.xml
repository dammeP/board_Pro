<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
  <select id="selectPageBoard" parameterType="PageVO" resultType="BoardVO">
    SELECT *
    FROM 
		(SELECT ROWNUM rn, a.*
		   FROM
		   		(SELECT *
		   		   FROM Board
		   		   WHERE cboardNo = #{cboardNo}
		   		   ORDER BY boardNo) a)
	WHERE rn BETWEEN (#{page}-1) * #{pageSize} +1 AND #{page} * #{pageSize}	   		    	
  </select>
<!--   <select id="selectPageBoard" parameterType="PageVO" resultType="BoardVO"> -->
<!--     SELECT * -->
<!--     FROM  -->
<!-- 		(SELECT ROWNUM rn, a.* -->
<!-- 		   FROM -->
<!-- 		   		(SELECT * -->
<!-- 		   		   FROM Board -->
<!-- 		   		   WHERE cboardNo = #{cboardNo, jdbcType=NUMERIC} -->
<!-- 		   		   ORDER BY boardNo) a) -->
<!-- 	WHERE rn BETWEEN (#{page, jdbcType=NUMERIC} -1) * #{pageSize, jdbcType=INTEGER} +1 AND #{page, jdbcType=NUMERIC} * #{pageSize, jdbcType=NUMERIC}	   		    	 -->
<!--   </select> -->
  
  <select id="selectTotalCntBoard" parameterType="String" resultType = "int">
   SELECT COUNT(*)
     FROM Board
    WHERE cboardNo=#{cboardNo}
  </select>
  
  <select id="getBoard" parameterType="String" resultType="BoardVO">
  	SELECT *
  	  FROM Board
  	 WHERE boardNo = #{boardNo} 
  </select>
</mapper>